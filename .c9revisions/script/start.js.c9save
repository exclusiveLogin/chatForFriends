{"ts":1374699329350,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"$(document).ready(function() {\r\n    \r\n    Global.snd_in = $('#msg_sound_in');\r\n    Global.snd_out = $('#msg_sound_out');\r\n\r\n    $('#msgSend').mousedown(function(){\r\n\t\t$(this).addClass('msgSendClick');\r\n\t\t});\r\n\t$('#msgSend').mouseup(function(){\r\n\t\t$(this).removeClass('msgSendClick');\r\n\t\t});\r\n        \r\n    $('#autoscroll').addClass('autoscrollOn');\r\n    \r\n    $('#status').text('Отключено').css({\r\n            'text-shadow':'0 0 5px #F00',\r\n            'color':'#F00'\r\n        });\r\n    \r\n    $('#nickNameSubmit').click(function(){\r\n        if($('#nickName').val()){\r\n            Global.nickname = $('#nickName').val();\r\n            if(Global.nickname.length > 15)\r\n            {\r\n                Global.nickname = Global.nickname.substring(0 ,12)+'...';\r\n            }\r\n            else;            \r\n            Global.nickNameSubmit();\r\n        }\r\n        else;\r\n    });\r\n    $('#nickName').keypress(function(e){\r\n        if(e.which == 13){\r\n            Global.nickname = $('#nickName').val();\r\n            if(Global.nickname.length > 15)\r\n            {\r\n                Global.nickname = Global.nickname.substring(0 ,12)+'...';\r\n            }\r\n            else;            \r\n            Global.nickNameSubmit();\r\n        }\r\n        else;\r\n    });\r\n    $('#nickName').focus(function(){\r\n        $(this).val('');\r\n    });\r\n        \r\n    \r\n    \r\n    $('#msgSend').click(function(){\r\n        if($('#msgBox').val()){\r\n           Global.sendMsg();\r\n        }\r\n        else;\r\n    });\r\n    $('#msgBox').keypress(function(e) {\r\n        if(e.which == 13){\r\n            if($('#msgBox').val()){\r\n                Global.sendMsg();\r\n            }\r\n            else;\r\n        }\r\n        else;\r\n    });\r\n    $('#exitSubmit').click(function() {\r\n        Global.exitSubmit();\r\n    });\r\n    $('#autoscroll').click(function() {\r\n        $(this).toggleClass('autoscrollOn');\r\n        Global.autoscroll=!Global.autoscroll;\r\n    });\r\n    $('#soundToggle').click(function() {\r\n        $(this).toggleClass('autoscrollOn');\r\n        Global.soundToggle=!Global.soundToggle;\r\n    });\r\n    \r\n    \r\n});\r\n"]],"start1":0,"start2":0,"length1":0,"length2":2077}]],"length":2077}
{"contributors":[],"silentsave":false,"ts":1374728533682,"patch":[[{"diffs":[[0,"    else;   "],[-1,"         "],[0,"\r\n          "]],"start1":778,"start2":778,"length1":33,"length2":24},{"diffs":[[0,"     Global."],[-1,"nickNameSubmit"],[1,"userCheck"],[0,"();\r\n       "]],"start1":799,"start2":799,"length1":38,"length2":33},{"diffs":[[0," Global."],[-1,"nickNameSubmit"],[1,"userCheck"],[0,"();\r\n   "]],"start1":1175,"start2":1175,"length1":30,"length2":25}]],"length":2058,"saved":false}
{"contributors":[],"silentsave":false,"ts":1374751900573,"patch":[[{"diffs":[[0,"(0 ,12)+'...';\r\n"],[1,"                alert(Global.nickname);\r\n"],[0,"            }\r\n "]],"start1":739,"start2":739,"length1":32,"length2":73}]],"length":2099,"saved":false}
{"ts":1374842305840,"patch":[[{"diffs":[[0,"bal."],[-1,"userEnter"],[1,"nickNameSubmit"],[0,"();/"]],"start1":1317,"start2":1317,"length1":17,"length2":22},{"diffs":[[0,"чем диалог\r\n"],[1,"        Global.exitSubmit();\r\n"],[0,"    });\r\n   "]],"start1":1712,"start2":1712,"length1":24,"length2":54},{"diffs":[[0,"    "],[-1,"$('#nickName').val('');\r\n        $('#nickName').focus"],[1,"Global.exitSubmit"],[0,"();\r"]],"start1":2276,"start2":2276,"length1":61,"length2":25}]],"length":4465,"saved":false}
{"contributors":[],"silentsave":false,"ts":1374963159465,"patch":[[{"diffs":[[0,"on() {\r\n"],[1,"    //обработчики диалоговых кнопок--------------------------------------------------------\r\n    $('#userRegYes').click(function(){\r\n        $('#userPass').show(1000);//показываем поля пароля\r\n        $('#userRegAsk').hide(1000);//прячем кнопки\r\n    });\r\n    $('#userRegNo').click(function(){\r\n        $('#userRegistration').hide(1000);//закрываем диалог\r\n        Global.nickNameSubmit();//заходим\r\n    });\r\n    $('#userRegSubmit').click(function() {\r\n        //Анализ полей пароля и отправка на сервер значения\r\n        var newUserPass = $('#newUserPass').val();//парсим значение полей в переменные\r\n        var newUserPassConfirm = $('#newUserPassConfirm').val();\r\n        if(newUserPass && newUserPass == newUserPassConfirm){//Если пароль введен и равен конфирмации\r\n            $('#userRegistration').hide(1000);//Прячем диалог регистрации\r\n            $('#userRegWarn').hide(100);//Прячем предупреждение\r\n            Global.userRegistration(newUserPass);//Запуск регистрации\r\n        }\r\n        else{\r\n            $('#userRegWarn').show(100);//Показываем что пользователь допустил ошибку или не ввел пароли\r\n        }                \r\n    });\r\n    $('#userRegCancel').click(function() {//делаем тоже что и при отмене\r\n        $('#userRegistration').hide(1000);//Прячем диалог\r\n        Global.nickNameSubmit();//заходим\r\n    });\r\n    \r\n    $('#userAuthYes').click(function(){\r\n        $('#authUserPass').show(1000);//тут мы выводим поля пароля и анализ содержимого\r\n        $('#userAuthAsk').hide(1000);//прячем кнопки                    \r\n    });\r\n    $('#userAuthNo').click(function(){//тут мы закрывааем диалог и делаем выход юзера\r\n        $('#userAuthorization').hide(1000);//прячем диалог\r\n        Global.exitSubmit();\r\n    });\r\n    $('#userAuthSubmit').click(function() {//тут будет анализ пароля\r\n        if($('#oldUserPass').val()){\r\n            var oldUserPass = $('#oldUserPass').val();\r\n            Global.socket.emit('existUser', {'password':oldUserPass, 'nickname':Global.nickname});\r\n            $('#userAuthWarn').hide(100);\r\n            $('#userAuthorization').hide(1000);\r\n        }\r\n        else{\r\n            $('#userAuthWarn').show(100);\r\n        }\r\n    });\r\n    $('#userAuthCancel').click(function() {\r\n        $('#userAuthorization').hide(1000);//прячем диалог\r\n        Global.exitSubmit();\r\n    });\r\n    //-------------------------------------------------------------------------------\r\n"],[0,"    \r\n"],[-1,""],[0,"    Glob"]],"start1":24,"start2":24,"length1":22,"length2":2437},{"diffs":[[0," Global."],[-1,"nickNameSubmit"],[1,"userCheck"],[0,"();\r\n   "]],"start1":3631,"start2":3631,"length1":30,"length2":25},{"diffs":[[0,"e;\r\n"],[-1,"        Global.exitSubmit();\r\n"],[0,"    "]],"start1":4115,"start2":4115,"length1":38,"length2":8},{"diffs":[[0,"\r\n    \r\n"],[1,""],[0,"    "],[-1,"Global.exitSubmit"],[0,"\r\n});\r\n"]],"start1":4495,"start2":4495,"length1":36,"length2":19}]],"length":4514,"saved":false}
