{"ts":1374699329350,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"$(document).ready(function() {\r\n    \r\n    Global.snd_in = $('#msg_sound_in');\r\n    Global.snd_out = $('#msg_sound_out');\r\n\r\n    $('#msgSend').mousedown(function(){\r\n\t\t$(this).addClass('msgSendClick');\r\n\t\t});\r\n\t$('#msgSend').mouseup(function(){\r\n\t\t$(this).removeClass('msgSendClick');\r\n\t\t});\r\n        \r\n    $('#autoscroll').addClass('autoscrollOn');\r\n    \r\n    $('#status').text('Отключено').css({\r\n            'text-shadow':'0 0 5px #F00',\r\n            'color':'#F00'\r\n        });\r\n    \r\n    $('#nickNameSubmit').click(function(){\r\n        if($('#nickName').val()){\r\n            Global.nickname = $('#nickName').val();\r\n            if(Global.nickname.length > 15)\r\n            {\r\n                Global.nickname = Global.nickname.substring(0 ,12)+'...';\r\n            }\r\n            else;            \r\n            Global.nickNameSubmit();\r\n        }\r\n        else;\r\n    });\r\n    $('#nickName').keypress(function(e){\r\n        if(e.which == 13){\r\n            Global.nickname = $('#nickName').val();\r\n            if(Global.nickname.length > 15)\r\n            {\r\n                Global.nickname = Global.nickname.substring(0 ,12)+'...';\r\n            }\r\n            else;            \r\n            Global.nickNameSubmit();\r\n        }\r\n        else;\r\n    });\r\n    $('#nickName').focus(function(){\r\n        $(this).val('');\r\n    });\r\n        \r\n    \r\n    \r\n    $('#msgSend').click(function(){\r\n        if($('#msgBox').val()){\r\n           Global.sendMsg();\r\n        }\r\n        else;\r\n    });\r\n    $('#msgBox').keypress(function(e) {\r\n        if(e.which == 13){\r\n            if($('#msgBox').val()){\r\n                Global.sendMsg();\r\n            }\r\n            else;\r\n        }\r\n        else;\r\n    });\r\n    $('#exitSubmit').click(function() {\r\n        Global.exitSubmit();\r\n    });\r\n    $('#autoscroll').click(function() {\r\n        $(this).toggleClass('autoscrollOn');\r\n        Global.autoscroll=!Global.autoscroll;\r\n    });\r\n    $('#soundToggle').click(function() {\r\n        $(this).toggleClass('autoscrollOn');\r\n        Global.soundToggle=!Global.soundToggle;\r\n    });\r\n    \r\n    \r\n});\r\n"]],"start1":0,"start2":0,"length1":0,"length2":2077}]],"length":2077}
{"contributors":[],"silentsave":false,"ts":1374728533682,"patch":[[{"diffs":[[0,"    else;   "],[-1,"         "],[0,"\r\n          "]],"start1":778,"start2":778,"length1":33,"length2":24},{"diffs":[[0,"     Global."],[-1,"nickNameSubmit"],[1,"userCheck"],[0,"();\r\n       "]],"start1":799,"start2":799,"length1":38,"length2":33},{"diffs":[[0," Global."],[-1,"nickNameSubmit"],[1,"userCheck"],[0,"();\r\n   "]],"start1":1175,"start2":1175,"length1":30,"length2":25}]],"length":2058,"saved":false}
{"contributors":[],"silentsave":false,"ts":1374751900573,"patch":[[{"diffs":[[0,"(0 ,12)+'...';\r\n"],[1,"                alert(Global.nickname);\r\n"],[0,"            }\r\n "]],"start1":739,"start2":739,"length1":32,"length2":73}]],"length":2099,"saved":false}
{"ts":1374842305840,"patch":[[{"diffs":[[0,"bal."],[-1,"userEnter"],[1,"nickNameSubmit"],[0,"();/"]],"start1":1317,"start2":1317,"length1":17,"length2":22},{"diffs":[[0,"чем диалог\r\n"],[1,"        Global.exitSubmit();\r\n"],[0,"    });\r\n   "]],"start1":1712,"start2":1712,"length1":24,"length2":54},{"diffs":[[0,"    "],[-1,"$('#nickName').val('');\r\n        $('#nickName').focus"],[1,"Global.exitSubmit"],[0,"();\r"]],"start1":2276,"start2":2276,"length1":61,"length2":25}]],"length":4465,"saved":false}
{"contributors":[],"silentsave":false,"ts":1374963159465,"patch":[[{"diffs":[[0,"on() {\r\n"],[1,"    //обработчики диалоговых кнопок--------------------------------------------------------\r\n    $('#userRegYes').click(function(){\r\n        $('#userPass').show(1000);//показываем поля пароля\r\n        $('#userRegAsk').hide(1000);//прячем кнопки\r\n    });\r\n    $('#userRegNo').click(function(){\r\n        $('#userRegistration').hide(1000);//закрываем диалог\r\n        Global.nickNameSubmit();//заходим\r\n    });\r\n    $('#userRegSubmit').click(function() {\r\n        //Анализ полей пароля и отправка на сервер значения\r\n        var newUserPass = $('#newUserPass').val();//парсим значение полей в переменные\r\n        var newUserPassConfirm = $('#newUserPassConfirm').val();\r\n        if(newUserPass && newUserPass == newUserPassConfirm){//Если пароль введен и равен конфирмации\r\n            $('#userRegistration').hide(1000);//Прячем диалог регистрации\r\n            $('#userRegWarn').hide(100);//Прячем предупреждение\r\n            Global.userRegistration(newUserPass);//Запуск регистрации\r\n        }\r\n        else{\r\n            $('#userRegWarn').show(100);//Показываем что пользователь допустил ошибку или не ввел пароли\r\n        }                \r\n    });\r\n    $('#userRegCancel').click(function() {//делаем тоже что и при отмене\r\n        $('#userRegistration').hide(1000);//Прячем диалог\r\n        Global.nickNameSubmit();//заходим\r\n    });\r\n    \r\n    $('#userAuthYes').click(function(){\r\n        $('#authUserPass').show(1000);//тут мы выводим поля пароля и анализ содержимого\r\n        $('#userAuthAsk').hide(1000);//прячем кнопки                    \r\n    });\r\n    $('#userAuthNo').click(function(){//тут мы закрывааем диалог и делаем выход юзера\r\n        $('#userAuthorization').hide(1000);//прячем диалог\r\n        Global.exitSubmit();\r\n    });\r\n    $('#userAuthSubmit').click(function() {//тут будет анализ пароля\r\n        if($('#oldUserPass').val()){\r\n            var oldUserPass = $('#oldUserPass').val();\r\n            Global.socket.emit('existUser', {'password':oldUserPass, 'nickname':Global.nickname});\r\n            $('#userAuthWarn').hide(100);\r\n            $('#userAuthorization').hide(1000);\r\n        }\r\n        else{\r\n            $('#userAuthWarn').show(100);\r\n        }\r\n    });\r\n    $('#userAuthCancel').click(function() {\r\n        $('#userAuthorization').hide(1000);//прячем диалог\r\n        Global.exitSubmit();\r\n    });\r\n    //-------------------------------------------------------------------------------\r\n"],[0,"    \r\n"],[-1,""],[0,"    Glob"]],"start1":24,"start2":24,"length1":22,"length2":2437},{"diffs":[[0," Global."],[-1,"nickNameSubmit"],[1,"userCheck"],[0,"();\r\n   "]],"start1":3631,"start2":3631,"length1":30,"length2":25},{"diffs":[[0,"e;\r\n"],[-1,"        Global.exitSubmit();\r\n"],[0,"    "]],"start1":4115,"start2":4115,"length1":38,"length2":8},{"diffs":[[0,"\r\n    \r\n"],[1,""],[0,"    "],[-1,"Global.exitSubmit"],[0,"\r\n});\r\n"]],"start1":4495,"start2":4495,"length1":36,"length2":19}]],"length":4514,"saved":false}
{"contributors":[],"silentsave":false,"ts":1375021055009,"patch":[[{"diffs":[[0,"_out');\r"],[1,"\n    \r\n    $('.contactUnit').click(function() {\r\n        var privNick = $(this).text();\r\n        $(this).toggleClass('contactUnitSelected');\r\n        if($(this).hasClass('contactUnitSelected')){\r\n            Global.priv.push(privNick);\r\n        }\r\n        \r\n    });\r"],[0,"\n\r\n    $"]],"start1":2528,"start2":2528,"length1":16,"length2":282}]],"length":4780,"saved":false}
{"ts":1375021298388,"patch":[[{"diffs":[[0,"k);\r\n        }\r\n"],[1,"        else{\r\n            delete Global.priv[privNick];\r\n        }\r\n"],[0,"        \r\n    })"]],"start1":2768,"start2":2768,"length1":32,"length2":101}]],"length":4849,"saved":false}
{"ts":1375021568139,"patch":[[{"diffs":[[0,"s).text();\r\n"],[1,"        alert('privNick:'+privNick);\r\n"],[0,"        $(th"]],"start1":2613,"start2":2613,"length1":24,"length2":62}]],"length":4887,"saved":false}
{"ts":1375021678178,"patch":[[{"diffs":[[0," {\r\n        "],[1,"//"],[0,"var privNick"]],"start1":2581,"start2":2581,"length1":24,"length2":26},{"diffs":[[0,"s).text();\r\n"],[-1,""],[0,"        aler"]],"start1":2615,"start2":2615,"length1":24,"length2":24},{"diffs":[[0,"Nick);\r\n        "],[1,"//"],[0,"$(this).toggleCl"]],"start1":2657,"start2":2657,"length1":32,"length2":34},{"diffs":[[0,");\r\n        "],[1,"//"],[0,"if($(this).h"]],"start1":2716,"start2":2716,"length1":24,"length2":26},{"diffs":[[0,"ed')){\r\n        "],[1,"//"],[0,"    Global.priv."]],"start1":2768,"start2":2768,"length1":32,"length2":34},{"diffs":[[0,"Nick);\r\n        "],[1,"//"],[0,"}\r\n        else{"]],"start1":2811,"start2":2811,"length1":32,"length2":34},{"diffs":[[0,"   //}\r\n        "],[1,"//"],[0,"else{\r\n         "]],"start1":2824,"start2":2824,"length1":32,"length2":34},{"diffs":[[0,"e{\r\n        "],[1,"//"],[0,"    delete G"]],"start1":2845,"start2":2845,"length1":24,"length2":26},{"diffs":[[0,"Nick];\r\n        "],[1,"//"],[0,"}\r\n        \r\n   "]],"start1":2886,"start2":2886,"length1":32,"length2":34}]],"length":4903,"saved":false}
{"ts":1375021842409,"patch":[[{"diffs":[[0,"click(function()"],[-1," "],[0,"{\r\n        //var"]],"start1":2565,"start2":2565,"length1":33,"length2":32}]],"length":4902,"saved":false}
{"ts":1375021866210,"patch":[[{"diffs":[[0,"        "],[-1,"//"],[0,"var priv"]],"start1":2584,"start2":2584,"length1":18,"length2":16}]],"length":4900,"saved":false}
{"contributors":[],"silentsave":false,"ts":1375021967448,"patch":[[{"diffs":[[0,"){\r\n        "],[1,"//"],[0,"var privNick"]],"start1":2580,"start2":2580,"length1":24,"length2":26},{"diffs":[[0,"rt('"],[-1,"privNick:'+privNick"],[1,"test'"],[0,");\r\n"]],"start1":2637,"start2":2637,"length1":27,"length2":13}]],"length":4888,"saved":false}
{"contributors":[],"silentsave":false,"ts":1375023076471,"patch":[[{"diffs":[[0,"nction() {\r\n"],[1,"    $('.contactUnitGuest').click(function(){\r\n        //var privNick = $(this).text();\r\n        alert('test');\r\n        //$(this).toggleClass('contactUnitSelected');\r\n        //if($(this).hasClass('contactUnitSelected')){\r\n        //    Global.priv.push(privNick);\r\n        //}\r\n        //else{\r\n        //    delete Global.priv[privNick];\r\n        //}\r\n        \r\n    });\r\n"],[0,"    //обрабо"]],"start1":20,"start2":20,"length1":24,"length2":397},{"diffs":[[0,"    "],[-1,"$('.contactUnit').click(function(){\r\n        //var privNick = $(this).text();\r\n        alert('test');\r\n        //$(this).toggleClass('contactUnitSelected');\r\n        //if($(this).hasClass('contactUnitSelected')){\r\n        //    Global.priv.push(privNick);\r\n        //}\r\n        //else{\r\n        //    delete Global.priv[privNick];\r\n        //}\r\n        \r\n    });"],[0,"\r\n\r\n"]],"start1":2916,"start2":2916,"length1":370,"length2":8}]],"length":4899,"saved":false}
{"ts":1375023279575,"patch":[[{"diffs":[[0,"$('."],[-1,"contactUnitGuest"],[1,"miniTextP"],[0,"').c"]],"start1":36,"start2":36,"length1":24,"length2":17},{"diffs":[[0,"k];\r\n        //}"],[-1,"\r\n"],[0,"        \r\n    })"]],"start1":361,"start2":361,"length1":34,"length2":32}]],"length":4890,"saved":false}
{"contributors":[],"silentsave":false,"ts":1375031906536,"patch":[[{"diffs":[[0," $('"],[-1,".miniTextP').click("],[1,"#contactListBody').on('click','.contactUnit', "],[0,"func"]],"start1":35,"start2":35,"length1":27,"length2":54},{"diffs":[[0,"        "],[-1,"//"],[0,"var priv"]],"start1":98,"start2":98,"length1":18,"length2":16},{"diffs":[[0,"    "],[-1,"alert('test');\r\n        //"],[0,"$(th"]],"start1":142,"start2":142,"length1":34,"length2":8},{"diffs":[[0,"        "],[-1,"//"],[0,"if($(thi"]],"start1":191,"start2":191,"length1":18,"length2":16},{"diffs":[[0,"){\r\n        "],[-1,"//"],[0,"    Global.p"]],"start1":241,"start2":241,"length1":26,"length2":24},{"diffs":[[0,"        "],[-1,"//"],[0,"}\r\n     "]],"start1":286,"start2":286,"length1":18,"length2":16},{"diffs":[[0,"        "],[-1,"//"],[0,"else{\r\n "]],"start1":297,"start2":297,"length1":18,"length2":16},{"diffs":[[0,"        "],[-1,"//"],[0,"    dele"]],"start1":312,"start2":312,"length1":18,"length2":16},{"diffs":[[0,"    "],[-1,"//}   "],[1,"}"],[0,"    "]],"start1":359,"start2":359,"length1":14,"length2":9}]],"length":4874,"saved":false}
{"ts":1375033062815,"patch":[[{"diffs":[[0,"    "],[-1,"delete"],[1,"var del ="],[0," Glo"]],"start1":320,"start2":320,"length1":14,"length2":17},{"diffs":[[0,"priv"],[-1,"[privNick]"],[1,".indexOf(privNick);\r\n            Global.priv.splice(del, 1)"],[0,";\r\n "]],"start1":341,"start2":341,"length1":18,"length2":67}]],"length":4926,"saved":false}
{"ts":1375033351249,"patch":[[{"diffs":[[0,"e(del, 1);\r\n"],[1,"            console.log('index fo delete:'+del);\r\n"],[0,"        }   "]],"start1":395,"start2":395,"length1":24,"length2":74}]],"length":4976,"saved":false}
{"ts":1375033405564,"patch":[[{"diffs":[[0,"        "],[-1,"c"],[1,"C"],[0,"onsole.l"]],"start1":411,"start2":411,"length1":17,"length2":17}]],"length":4976,"saved":false}
{"ts":1375033559062,"patch":[[{"diffs":[[0,"ush(privNick);\r\n"],[1,"            console.log('user added:'+privNick);\r\n"],[0,"        }\r\n     "]],"start1":270,"start2":270,"length1":32,"length2":82},{"diffs":[[0,"        "],[-1,"C"],[1,"c"],[0,"onsole.l"]],"start1":461,"start2":461,"length1":17,"length2":17}]],"length":5026,"saved":false}
